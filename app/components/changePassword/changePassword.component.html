<div class="signupEmail">
    <form [ngFormModel]="passwordForm" (submit)="changePassword()">
      <ion-row class="center" style="color: red;">
        <ion-col>
          <span *ngIf="errorMessage && !successMessage">{{errorMessage}}</span>
          <span *ngIf="!errorMessage && successMessage" style="color: green;">{{successMessage}}</span>
          <div *ngIf="passwordForm.controls.matchingPassword.touched && !passwordForm.controls.matchingPassword.valid">Passwords must match.</div>
          <control-message
            control="password"
            [controlGroup]="passwordForm.controls.matchingPassword"
            displayName="New Password"></control-message>
          <control-message
            control="confirmPassword"
            [controlGroup]="passwordForm.controls.matchingPassword"
            displayName="Password Confirmation"></control-message>
        </ion-col>
      </ion-row>
      <ion-list>
        <ion-item>
          <ion-label>Old Password</ion-label>
          <ion-input ngControl="oldPassword" id="oldPassword" type="password" required></ion-input>
        </ion-item>
        <div ngControlGroup="matchingPassword">
          <ion-item>
            <ion-label>New Password</ion-label>
            <ion-input ngControl="password" id="newPassword" type="password" required></ion-input>
          </ion-item>
          <ion-item>
            <ion-label>Confirm New</ion-label>
            <ion-input ngControl="confirmPassword" id="confirmNewPassword" type="password" required></ion-input>
          </ion-item>
        </div>
      </ion-list>
      <ion-row>
        <button block class="social-button">
          <loader [white]="true" *ngIf="updatingPassword"></loader>
          <span *ngIf="!updatingPassword">Update Password</span>
        </button>
      </ion-row>
    </form>
</div>
